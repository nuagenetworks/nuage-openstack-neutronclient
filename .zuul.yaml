- project:
    check:
      jobs:
        - openstack-tox-pep8
        - nuage-neutronclient-cli
        - nuage-neutronclient-functional: &rocky
            override-checkout: stable/rocky
            required-projects:
              - OpenStack/networking-testsriov
              - name: OpenStack/nuage-openstack-neutron
                override-checkout: 6.0/rocky
              - name: OpenStack/nuage-openstack-neutronclient
                override-checkout: 6.0/rocky
              - opendev.org/openstack/neutron
              - name: opendev.org/openstack/neutron-tempest-plugin
                override-checkout: 0.9.0
              - opendev.org/openstack/python-openstackclient
              - opendev.org/openstack/placement
            vars:
              vsp_release: '6.0'
              devstack_localrc:
                USE_PYTHON3: false
    gate:
      jobs:
        - openstack-tox-pep8
        - nuage-neutronclient-cli
        - nuage-neutronclient-functional: *rocky
    periodic:
      jobs:
        - nuage-neutronclient-functional: *rocky

- job:
    name: nuage-neutronclient-cli
    parent: networking-nuage-base
    nodeset: openstack-single-node-centos7
    override-checkout: stable/rocky
    vars:
      vsp_release: '6.0'
      devstack_localrc:
        TEMPEST_PLUGINS: '"/opt/stack/nuage-tempest-plugin"'
        Q_ML2_PLUGIN_TYPE_DRIVERS: vxlan,vlan,flat
      devstack_local_conf:
        test-config:
          $TEMPEST_CONFIG:
            neutron_plugin_options:
              available_type_drivers: flat,vlan,local,vxlan
            nuage_sut:
              nuage_hybrid_mpls_enabled: False
      tempest_test_regex: '^nuage_tempest_plugin\.tests\.api\.cli\..*'
    required-projects:
      - name: OpenStack/nuage-openstack-neutron
        override-checkout: 6.0/rocky
      - name: OpenStack/nuage-openstack-neutronclient
        override-checkout: 6.0/rocky
      - name: opendev.org/openstack/neutron-tempest-plugin
        override-checkout: 0.9.0
